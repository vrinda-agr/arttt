<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luna Care - Your Period Wellness Partner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FFB3D9 0%, #FFC8E3 25%, #FFD4ED 50%, #FFE5F5 75%, #FFF0F9 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 182, 193, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 192, 203, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 228, 225, 0.2) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(255, 182, 193, 0.3);
            border: 2px solid rgba(255, 192, 203, 0.3);
            text-align: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .logo-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid #FF69B4;
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }

        .logo-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        h1 {
            color: #FF1493;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.2);
            letter-spacing: 2px;
            font-weight: bold;
        }

        .tagline {
            color: #666;
            font-size: 1.1em;
        }
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .stat {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(255, 182, 193, 0.3);
            border: 2px solid rgba(255, 192, 203, 0.2);
        }

        .card h2 {
            color: #FF1493;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #FF69B4;
            box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.1);
        }

        button {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
        }

        .hidden {
            display: none;
        }

        .result-box {
            background: linear-gradient(135deg, #FFE5F5, #FFF0F9);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #FF69B4;
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.2);
        }

        .phase {
            font-size: 1.2em;
            color: #FF1493;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .product-card {
            background: white;
            border: 2px solid #FFD4ED;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(255, 182, 193, 0.2);
        }

        .product-card h4 {
            color: #FF1493;
            margin-bottom: 10px;
        }

        .buy-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .amazon-btn {
            background: #ff9900;
            padding: 8px 20px;
            font-size: 0.9em;
        }

        .blinkit-btn {
            background: #54b226;
            padding: 8px 20px;
            font-size: 0.9em;
        }

        .flavor-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .flavor-btn {
            padding: 10px;
            background: white;
            border: 2px solid #FFD4ED;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .flavor-btn.selected {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border-color: #FF1493;
            transform: scale(1.05);
        }

        .order-item {
            background: linear-gradient(135deg, #FFE5F5, #FFF0F9);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #FFD4ED;
        }

        .status {
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
        }

        .status-delivered {
            background: #d4edda;
            color: #155724;
        }

        .status-shipped {
            background: #fff3cd;
            color: #856404;
        }

        .status-pending {
            background: #cce5ff;
            color: #004085;
        }

        .chat-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(255, 105, 180, 0.4);
            z-index: 1000;
            transition: transform 0.3s;
        }

        .chat-button:hover {
            transform: scale(1.1);
        }

        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(255, 105, 180, 0.3);
            border: 2px solid #FFD4ED;
            display: none;
            flex-direction: column;
            z-index: 1000;
        }

        .chat-window.active {
            display: flex;
        }

        .chat-header {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            padding: 15px;
            border-radius: 15px 15px 0 0;
            font-weight: bold;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 80%;
        }

        .bot .message-content {
            background: #FFE5F5;
            color: #333;
            border: 1px solid #FFD4ED;
        }

        .user .message-content {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
        }

        .chat-input-area {
            padding: 15px;
            border-top: 1px solid #e0e0e0;
        }

        .chat-input-group {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
        }

        .send-btn {
            padding: 10px 20px;
            border-radius: 25px;
        }

        .quick-actions {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .quick-btn {
            padding: 5px 10px;
            font-size: 0.8em;
            background: white;
            border: 1px solid #FF69B4;
            color: #FF1493;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(255, 105, 180, 0.3);
            border: 2px solid #FFD4ED;
            max-width: 300px;
            z-index: 2000;
            display: none;
        }

        .notification.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
            }
            to {
                transform: translateX(0);
            }
        }

        .tier-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .bronze {
            background: #cd7f32;
            color: white;
        }

        .silver {
            background: #c0c0c0;
            color: #333;
        }

        .gold {
            background: #ffd700;
            color: #333;
        }

        .doctor-card {
            background: linear-gradient(135deg, #FFE5F5, #FFF0F9);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #FF69B4;
            box-shadow: 0 4px 12px rgba(255, 182, 193, 0.2);
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .chat-window {
                width: calc(100% - 40px);
                right: 20px;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <div class="logo-image">
                    <img src="https://i.imgur.com/9KXqr5L.png" alt="Artemis Logo">
                </div>
                <div>
                    <h1>ARTEMIS</h1>
                    <p class="tagline">Divine Care For Your Flow</p>
                </div>
            </div>

            <!-- First Period Education -->
            <div class="card">
                <h2>ğŸŒ¸ First Period Education</h2>
                <p style="color: #666; margin-bottom: 1rem;">Everything you need to know about your first period</p>
                
                <div style="background: linear-gradient(135deg, #FFE5F5, #FFF0F9); padding: 20px; border-radius: 15px; margin-bottom: 1rem; border: 2px solid #FFD4ED;">
                    <h3 style="color: #FF1493; margin-bottom: 15px;">ğŸ“š What to Expect</h3>
                    <div style="color: #666; line-height: 1.8;">
                        <p><strong>ğŸ©¸ What is a period?</strong><br>A period (menstruation) is when blood comes out through the vagina. It's a natural part of the menstrual cycle and happens once a month.</p>
                        
                        <p style="margin-top: 15px;"><strong>ğŸ“… When does it start?</strong><br>Most girls get their first period between ages 10-15. Everyone is different, and that's completely normal!</p>
                        
                        <p style="margin-top: 15px;"><strong>â±ï¸ How long does it last?</strong><br>Usually 3-7 days. The first few periods might be irregular, and that's okay!</p>
                        
                        <p style="margin-top: 15px;"><strong>ğŸ’ What do I need?</strong><br>Pads, tampons, or period panties. Start with pads if you're new to periods - they're easy to use!</p>
                        
                        <p style="margin-top: 15px;"><strong>ğŸ’Š Managing cramps:</strong><br>Use a heating pad, drink warm water, rest, and try gentle exercise. Our Artemis Relief Chocolate can help too!</p>
                    </div>
                </div>
                
                <button onclick="showFirstPeriodKit()" style="width: 100%;">Get Your First Period Kit ğŸ</button>
            </div>

            <!-- First Period Kit -->
            <div class="card hidden" id="firstPeriodKit">
                <h2>ğŸ First Period Starter Kit</h2>
                <p style="color: #666; margin-bottom: 1rem;">Everything you need for your first period in one package!</p>
                
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                    <div style="background: linear-gradient(135deg, #FFE5F5, #FFF0F9); padding: 15px; border-radius: 10px; border: 2px solid #FFD4ED;">
                        <h4 style="color: #FF1493; margin-bottom: 10px;">ğŸŒ¸ Basic Kit - â‚¹399</h4>
                        <ul style="color: #666; line-height: 1.8;">
                            <li>10 Regular Pads</li>
                            <li>5 Panty Liners</li>
                            <li>Period Tracker Guide</li>
                            <li>Hygiene Tips Booklet</li>
                            <li>Cute Carry Pouch</li>
                        </ul>
                        <button onclick="orderFirstPeriodKit('basic')" style="width: 100%; margin-top: 10px;">Order Basic Kit</button>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #FFE5F5, #FFF0F9); padding: 15px; border-radius: 10px; border: 2px solid #FF69B4; box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);">
                        <h4 style="color: #FF1493; margin-bottom: 10px;">ğŸ’ Premium Kit - â‚¹799 <span style="background: #FF69B4; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8em;">POPULAR</span></h4>
                        <ul style="color: #666; line-height: 1.8;">
                            <li>15 Regular + Night Pads</li>
                            <li>10 Panty Liners</li>
                            <li>Hot Water Bag</li>
                            <li>Artemis Relief Chocolate</li>
                            <li>Period Panties</li>
                            <li>Educational Booklet</li>
                            <li>Aromatherapy Roll-on</li>
                            <li>Premium Pouch</li>
                        </ul>
                        <button onclick="orderFirstPeriodKit('premium')" style="width: 100%; margin-top: 10px;">Order Premium Kit</button>
                    </div>
                </div>
            </div>

            <!-- Emergency Period Locator -->
            <div class="card">
                <h2>ğŸš¨ Emergency Period Locator</h2>
                <p style="color: #666; margin-bottom: 1rem;">Find nearest pharmacies and public restrooms instantly!</p>
                
                <div style="display: flex; gap: 10px; margin-bottom: 1rem;">
                    <button onclick="findNearby('pharmacy')" style="flex: 1;">
                        ğŸ’Š Find Pharmacy
                    </button>
                    <button onclick="findNearby('restroom')" style="flex: 1;">
                        ğŸš» Find Restroom
                    </button>
                </div>
                
                <div id="locationResults" class="hidden" style="background: linear-gradient(135deg, #FFE5F5, #FFF0F9); padding: 15px; border-radius: 10px; border: 2px solid #FFD4ED;">
                    <h4 style="color: #FF1493; margin-bottom: 10px;">ğŸ“ Nearby Locations</h4>
                    <div id="locationList"></div>
                    <button onclick="openMaps()" style="width: 100%; margin-top: 10px;">Open in Google Maps ğŸ—ºï¸</button>
                </div>
            </div>

            <!-- Travel-Friendly Products -->
            <div class="card">
                <h2>âœˆï¸ Travel-Friendly Period Products</h2>
                <p style="color: #666; margin-bottom: 1rem;">Compact, discreet, and perfect for on-the-go!</p>
                
                <div class="grid">
                    <div class="product-card">
                        <div style="font-size: 2.5rem;">ğŸ’</div>
                        <h4 style="color: #FF1493;">Travel Pack</h4>
                        <p style="color: #666; font-size: 0.9em;">Compact pads + wipes</p>
                        <p style="color: #FF1493; font-weight: bold;">â‚¹149</p>
                        <button onclick="buyProduct('Travel Pack', 'amazon')" style="width: 100%; margin-top: 5px; padding: 8px;">Buy Now</button>
                    </div>
                    
                    <div class="product-card">
                        <div style="font-size: 2.5rem;">ğŸŒ¿</div>
                        <h4 style="color: #FF1493;">Menstrual Cup</h4>
                        <p style="color: #666; font-size: 0.9em;">12-hour protection</p>
                        <p style="color: #FF1493; font-weight: bold;">â‚¹599</p>
                        <button onclick="buyProduct('Menstrual Cup', 'amazon')" style="width: 100%; margin-top: 5px; padding: 8px;">Buy Now</button>
                    </div>
                    
                    <div class="product-card">
                        <div style="font-size: 2.5rem;">ğŸ‘™</div>
                        <h4 style="color: #FF1493;">Period Panties</h4>
                        <p style="color: #666; font-size: 0.9em;">Leak-proof, reusable</p>
                        <p style="color: #FF1493; font-weight: bold;">â‚¹499</p>
                        <button onclick="buyProduct('Period Panties', 'amazon')" style="width: 100%; margin-top: 5px; padding: 8px;">Buy Now</button>
                    </div>
                    
                    <div class="product-card">
                        <div style="font-size: 2.5rem;">ğŸ§´</div>
                        <h4 style="color: #FF1493;">Hygiene Kit</h4>
                        <p style="color: #666; font-size: 0.9em;">Wipes + sanitizer</p>
                        <p style="color: #FF1493; font-weight: bold;">â‚¹199</p>
                        <button onclick="buyProduct('Travel Hygiene Kit', 'amazon')" style="width: 100%; margin-top: 5px; padding: 8px;">Buy Now</button>
                    </div>
                </div>
            </div>

            <!-- Water Reminder Settings -->
            <div class="card">
                <h2>ğŸ’§ Water Reminder Settings</h2>
                <p style="color: #666; margin-bottom: 1rem;">Stay hydrated during your period! Set custom reminders.</p>
                
                <div style="background: linear-gradient(135deg, #E3F2FD, #BBDEFB); padding: 20px; border-radius: 15px; margin-bottom: 1rem; border: 2px solid #90CAF9;">
                    <h4 style="color: #1976D2; margin-bottom: 10px;">ğŸ’¡ Why Hydration Matters</h4>
                    <p style="color: #666;">Drinking water helps reduce bloating, eases cramps, and keeps you energized during your period!</p>
                </div>
                
                <div class="grid">
                    <div>
                        <label>Reminder Frequency:</label>
                        <select id="waterFrequency">
                            <option value="30">Every 30 minutes</option>
                            <option value="60" selected>Every hour</option>
                            <option value="90">Every 90 minutes</option>
                            <option value="120">Every 2 hours</option>
                        </select>
                    </div>
                    <div>
                        <label>Daily Water Goal:</label>
                        <select id="waterGoal">
                            <option value="6">6 glasses (1.5L)</option>
                            <option value="8" selected>8 glasses (2L)</option>
                            <option value="10">10 glasses (2.5L)</option>
                            <option value="12">12 glasses (3L)</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-top: 1rem;">
                    <label>Active Hours:</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <input type="time" id="waterStartTime" value="08:00">
                        <input type="time" id="waterEndTime" value="22:00">
                    </div>
                </div>
                
                <button onclick="setWaterReminder()" style="width: 100%; margin-top: 1rem;">Set Water Reminders ğŸ’§</button>
                
                <div id="waterProgress" class="hidden" style="margin-top: 1rem; background: linear-gradient(135deg, #E3F2FD, #BBDEFB); padding: 15px; border-radius: 10px; border: 2px solid #90CAF9;">
                    <h4 style="color: #1976D2; margin-bottom: 10px;">Today's Progress</h4>
                    <div style="background: white; border-radius: 10px; padding: 10px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="color: #666;">Glasses consumed:</span>
                            <span style="color: #1976D2; font-weight: bold;"><span id="glassesConsumed">0</span> / <span id="glassesGoal">8</span></span>
                        </div>
                        <div style="background: #E3F2FD; height: 20px; border-radius: 10px; overflow: hidden;">
                            <div id="waterProgressBar" style="background: linear-gradient(135deg, #4FC3F7, #039BE5); height: 100%; width: 0%; transition: width 0.5s;"></div>
                        </div>
                    </div>
                    <button onclick="logWater()" style="width: 100%;">I Drank a Glass! ğŸ’§</button>
                </div>
            </div>
            <div class="stats-bar" style="display: flex; gap: 20px; margin-top: 15px; flex-wrap: wrap; justify-content: center;">
                <div class="stat">ğŸ’ <span id="pointsDisplay">0</span> Artemis Points</div>
                <div class="stat"><span id="tierDisplay" class="tier-badge bronze">ğŸŒ¸ Bronze Member</span></div>
                <div class="stat">ğŸ“¦ <span id="orderCount">0</span> Orders</div>
                <div class="stat">ğŸ”¥ <span id="streakDisplay">0</span> Day Streak</div>
            </div>
        </header>

        <div class="grid">
            <!-- Cycle Tracker -->
            <div class="card">
                <h2>ğŸ“… Track Your Cycle</h2>
                <div class="grid">
                    <div>
                        <label>Last Period Start Date:</label>
                        <input type="date" id="lastPeriod">
                    </div>
                    <div>
                        <label>Cycle Length (days):</label>
                        <select id="cycleLength">
                            <option value="21">21 days</option>
                            <option value="24">24 days</option>
                            <option value="26">26 days</option>
                            <option value="28" selected>28 days</option>
                            <option value="30">30 days</option>
                            <option value="32">32 days</option>
                            <option value="35">35 days</option>
                            <option value="40">40 days</option>
                        </select>
                    </div>
                    <div>
                        <label>Period Duration (days):</label>
                        <select id="periodDuration">
                            <option value="3">3 days</option>
                            <option value="4">4 days</option>
                            <option value="5" selected>5 days</option>
                            <option value="6">6 days</option>
                            <option value="7">7 days</option>
                            <option value="8">8+ days</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-top: 1rem;">
                    <label>Flow Intensity:</label>
                    <select id="flowIntensity">
                        <option value="light">Light Flow</option>
                        <option value="medium" selected>Medium Flow</option>
                        <option value="heavy">Heavy Flow</option>
                    </select>
                </div>
                
                <div style="margin-top: 1rem;">
                    <label>Current Symptoms (check all that apply):</label>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 0.5rem; margin-top: 0.5rem;">
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Cramps
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Bloating
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Headache
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Fatigue
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Mood Swings
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Acne
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Back Pain
                        </label>
                        <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" class="symptom-check"> Nausea
                        </label>
                    </div>
                </div>
                
                <button onclick="trackCycle()" style="width: 100%; margin-top: 1rem;">Track My Cycle (+20 Points)</button>
                
                <div id="cycleResults" class="hidden">
                    <div class="result-box">
                        <div class="phase" id="currentPhase"></div>
                        <p id="nextPeriod"></p>
                        <p id="wellnessTip" style="margin-top: 10px; font-style: italic; color: #666;"></p>
                        
                        <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 10px; border: 1px solid #FFD4ED;">
                            <h4 style="color: #FF1493; margin-bottom: 10px;">ğŸ“Š Your Symptoms</h4>
                            <div id="symptomsList" style="color: #666;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Recommendations -->
            <div class="card">
                <h2>ğŸ›ï¸ Smart Recommendations</h2>
                <p style="color: #666; margin-bottom: 1rem;">Get personalized product suggestions based on your flow</p>
                
                <div style="margin-bottom: 1rem;">
                    <label>Product Type Filter:</label>
                    <select id="productFilter">
                        <option value="all">All Products</option>
                        <option value="pads">Pads Only</option>
                        <option value="tampons">Tampons Only</option>
                        <option value="cups">Menstrual Cups</option>
                        <option value="panties">Period Panties</option>
                    </select>
                </div>
                
                <div id="productRecommendations">
                    <p style="color: #999; text-align: center; padding: 40px 0;">Track your cycle to get personalized product recommendations!</p>
                </div>
            </div>

            <div class="card">
                <h2>ğŸ« Artemis Relief Chocolate</h2>
                <p style="margin-bottom: 15px; color: #666;">Premium period cramp relief chocolate specially formulated for you!</p>
                
                <div style="background: #f8f9ff; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Special Formula:</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>âœ¨ 70% Dark Chocolate</li>
                        <li>ğŸ’ª 15mg Iron per serving</li>
                        <li>ğŸŒ¿ Magnesium boost for cramps</li>
                        <li>ğŸ˜Š Natural mood enhancers</li>
                    </ul>
                </div>

                <div class="form-group">
                    <label>Your Name (for personalization):</label>
                    <input type="text" id="customerName" placeholder="Enter your name">
                </div>

                <label>Choose Flavors (select multiple):</label>
                <div class="flavor-grid">
                    <button class="flavor-btn" onclick="toggleFlavor(this, 'original')">ğŸ« Original Dark</button>
                    <button class="flavor-btn" onclick="toggleFlavor(this, 'mint')">ğŸŒ¿ Mint</button>
                    <button class="flavor-btn" onclick="toggleFlavor(this, 'orange')">ğŸŠ Orange Zest</button>
                    <button class="flavor-btn" onclick="toggleFlavor(this, 'salt')">ğŸ§‚ Sea Salt</button>
                    <button class="flavor-btn" onclick="toggleFlavor(this, 'raspberry')">ğŸ« Raspberry</button>
                    <button class="flavor-btn" onclick="toggleFlavor(this, 'ginger')">ğŸŒ¶ï¸ Ginger Spice</button>
                </div>

                <div class="form-group">
                    <label>Delivery Frequency:</label>
                    <select id="deliveryFrequency">
                        <option value="onetime">One-time Purchase</option>
                        <option value="monthly">Monthly Subscription (Save 15%)</option>
                        <option value="cycle">Cycle-Matched Delivery</option>
                    </select>
                </div>

                <button onclick="orderChocolate()">Order Artemis Relief (+50 Points)</button>
            </div>

            <!-- Order History -->
            <div class="card">
                <h2>ğŸ“¦ Order History</h2>
                <div id="orderHistory">
                    <p style="color: #999; text-align: center; padding: 20px 0;">No orders yet. Start shopping to earn points!</p>
                </div>
                <button onclick="exportOrders()" style="margin-top: 10px; background: #6c757d;">Export as CSV</button>
            </div>

            <!-- Rewards Program -->
            <div class="card">
                <h2>ğŸ Rewards Program</h2>
                <div style="background: #f8f9ff; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Earn Points:</h4>
                    <ul style="list-style: none; padding: 0; color: #666;">
                        <li>ğŸ“… Cycle Tracking: 20 points</li>
                        <li>ğŸ›ï¸ First Purchase: 50 points</li>
                        <li>â­ Product Review: 25 points</li>
                        <li>ğŸ‘¥ Referral: 100 points</li>
                        <li>ğŸ’° Every â‚¹100 spent: 10 points</li>
                        <li>ğŸ‚ Birthday Bonus: 50 points</li>
                        <li>ğŸ”¥ 7-Day Streak: 50 points</li>
                    </ul>
                </div>

                <div class="form-group">
                    <label>Your Birthday (for bonus):</label>
                    <input type="date" id="birthday">
                    <button onclick="saveBirthday()" style="margin-top: 10px;">Save Birthday</button>
                </div>

                <button onclick="redeemPoints()">Redeem 500 Points (â‚¹100 Gift Card)</button>
            </div>

            <!-- Referral Program -->
            <div class="card">
                <h2>ğŸ‘¥ Refer & Earn</h2>
                <p style="margin-bottom: 15px; color: #666;">Share Artemis and earn 100 points for each friend who signs up!</p>
                
                <div style="background: linear-gradient(135deg, #FFE5F5, #FFF0F9); padding: 15px; border-radius: 10px; text-align: center;">
                    <p style="font-weight: bold; color: #FF1493; font-size: 1.2em; margin-bottom: 10px;">Your Referral Code:</p>
                    <p style="font-size: 1.5em; font-weight: bold; color: #333;" id="referralCode">ARTEMIS2024</p>
                </div>

                <button onclick="shareReferral()" style="margin-top: 15px;">Share My Code (+100 Points)</button>
            </div>

            <!-- Yoga & Breathing Exercises -->
            <div class="card">
                <h2>ğŸ§˜â€â™€ï¸ Wellness Exercises</h2>
                <p style="margin-bottom: 15px; color: #666;">Relief through yoga, breathing, and meditation</p>
                
                <div class="form-group">
                    <label>Choose Exercise Type:</label>
                    <select id="exerciseType" onchange="updateExerciseInfo()">
                        <option value="yoga">ğŸ§˜â€â™€ï¸ Period Relief Yoga Flow</option>
                        <option value="breathing">ğŸ˜®â€ğŸ’¨ Box Breathing (Cramp Relief)</option>
                        <option value="meditation">ğŸ§˜ Healing Visualization</option>
                        <option value="stretching">ğŸ¤¸â€â™€ï¸ Gentle Pelvic Stretches</option>
                        <option value="walking">ğŸš¶â€â™€ï¸ Mindful Walking</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Choose Background Music:</label>
                    <select id="musicChoice">
                        <option value="nature">ğŸŒ¿ Nature Sounds (Forest ambience)</option>
                        <option value="piano">ğŸ¹ Soft Piano (Peaceful melodies)</option>
                        <option value="rain">ğŸŒ§ï¸ Rain Sounds (Gentle rainfall)</option>
                        <option value="ocean">ğŸŒŠ Ocean Waves (Rhythmic water)</option>
                        <option value="birds">ğŸ¦ Birds Chirping (Morning sounds)</option>
                        <option value="tibetan">ğŸ”” Tibetan Bowls (Healing frequencies)</option>
                        <option value="white">â˜ï¸ White Noise (Deep focus)</option>
                        <option value="silent">ğŸ”‡ Silent (No music)</option>
                    </select>
                </div>

                <div id="exerciseInfo" style="background: linear-gradient(135deg, #FFE5F5, #FFF0F9); padding: 15px; border-radius: 10px; margin-bottom: 15px; border: 1px solid #FFD4ED;">
                    <h4 style="color: #FF1493; margin-bottom: 10px;">Period Relief Yoga Flow</h4>
                    <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">ğŸ§˜â€â™€ï¸ Child's Pose â†’ Cat-Cow Stretch â†’ Supine Twist. Each pose for 2 minutes. Relieves cramps, back pain, and tension. Keep movements gentle and breath steady.</p>
                    <div id="exerciseSteps" style="margin-top: 10px; padding: 10px; background: white; border-radius: 5px; border: 1px solid #FFE5F5;">
                        <strong style="color: #FF1493;">Steps:</strong>
                        <ol style="margin: 5px 0 0 20px; color: #666; font-size: 0.85em;">
                            <li>Child's Pose (2 min): Kneel, sit on heels, fold forward</li>
                            <li>Cat-Cow (2 min): On all fours, arch and round spine</li>
                            <li>Supine Twist (2 min): Lie on back, twist knees to side</li>
                        </ol>
                    </div>
                </div>

                <div id="timerDisplay" style="display: none; background: linear-gradient(135deg, #FF69B4, #FF1493); padding: 30px; border-radius: 15px; text-align: center; margin-bottom: 15px; box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);">
                    <div style="font-size: 3em; color: white; font-weight: bold; margin-bottom: 10px;" id="timerText">5:00</div>
                    <div style="color: white; margin-bottom: 15px; font-size: 1.1em;" id="timerStatus">Get Ready...</div>
                    
                    <!-- Breathing Guide Circle -->
                    <div id="breathingGuide" style="display: none; margin: 20px auto; width: 150px; height: 150px; border: 4px solid white; border-radius: 50%; transition: all 4s ease; background: rgba(255, 255, 255, 0.1);">
                        <div style="color: white; line-height: 150px; font-size: 1.2em; font-weight: bold;" id="breathText">Breathe</div>
                    </div>
                    
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button onclick="startTimer()" id="startBtn" style="background: white; color: #667eea;">Start</button>
                        <button onclick="pauseTimer()" id="pauseBtn" style="background: rgba(255,255,255,0.3); display: none;">Pause</button>
                        <button onclick="resetTimer()" style="background: rgba(255,255,255,0.3);">Reset</button>
                    </div>
                </div>

                <button onclick="showTimer()">Start Exercise (+30 Points)</button>
            </div>

            <!-- Girlies at Your Rescue -->
            <div class="card">
                <h2>ğŸ’• Girlies at Your Rescue</h2>
                <p style="margin-bottom: 15px; color: #666;">Connect with expert gynecologists and counselors</p>
                
                <h3 style="color: #FF1493; font-size: 1.1em; margin-bottom: 10px;">ğŸ‘©â€âš•ï¸ Gynecologists</h3>
                <div class="doctor-card">
                    <strong>Dr. Priya Sharma</strong>
                    <p style="font-size: 0.9em; color: #666;">15+ years experience â€¢ MBBS, MD</p>
                    <div class="buy-buttons" style="margin-top: 10px;">
                        <button class="quick-btn" onclick="bookDoctor('Dr. Priya Sharma', 'chat', 0)">ğŸ’¬ Chat - FREE</button>
                        <button class="quick-btn" onclick="bookDoctor('Dr. Priya Sharma', 'call', 199)">ğŸ“ Call - â‚¹199</button>
                        <button class="quick-btn" onclick="bookDoctor('Dr. Priya Sharma', 'video', 299)">ğŸ“¹ Video - â‚¹299</button>
                    </div>
                </div>

                <div class="doctor-card">
                    <strong>Dr. Anjali Verma</strong>
                    <p style="font-size: 0.9em; color: #666;">12+ years experience â€¢ MBBS, DGO</p>
                    <div class="buy-buttons" style="margin-top: 10px;">
                        <button class="quick-btn" onclick="bookDoctor('Dr. Anjali Verma', 'chat', 0)">ğŸ’¬ Chat - FREE</button>
                        <button class="quick-btn" onclick="bookDoctor('Dr. Anjali Verma', 'call', 199)">ğŸ“ Call - â‚¹199</button>
                        <button class="quick-btn" onclick="bookDoctor('Dr. Anjali Verma', 'video', 299)">ğŸ“¹ Video - â‚¹299</button>
                    </div>
                </div>

                <h3 style="color: #FF1493; font-size: 1.1em; margin: 20px 0 10px 0;">ğŸ§  Counselors</h3>
                <div class="doctor-card">
                    <strong>Maya Krishnan - Mental Health Expert</strong>
                    <p style="font-size: 0.9em; color: #666;">Hormone & mood support specialist</p>
                    <div class="buy-buttons" style="margin-top: 10px;">
                        <button class="quick-btn" onclick="bookDoctor('Maya Krishnan', 'chat', 0)">ğŸ’¬ Chat - FREE</button>
                        <button class="quick-btn" onclick="bookDoctor('Maya Krishnan', 'call', 149)">ğŸ“ Call - â‚¹149</button>
                        <button class="quick-btn" onclick="bookDoctor('Maya Krishnan', 'video', 249)">ğŸ“¹ Video - â‚¹249</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hourly Compliment Notification -->
    <div id="complimentNotif" style="position: fixed; top: 20px; right: -400px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 15px; box-shadow: 0 8px 32px rgba(0,0,0,0.3); max-width: 300px; z-index: 3000; transition: right 0.5s ease;">
        <p style="font-size: 1.1em; margin: 0;" id="complimentText"></p>
    </div>

    <!-- Emergency Button -->
    <button class="emergency-btn" onclick="showEmergencyOptions()" title="Period Emergency!">
        ğŸš¨
    </button>

    <!-- Water Reminder Button -->
    <button class="water-reminder" onclick="toggleWaterReminder()" title="Water Reminder">
        ğŸ’§
    </button>

    <!-- Chat Button -->
    <button class="chat-button" onclick="toggleChat()">ğŸ’¬</button>

    <!-- Chat Window -->
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            Artemis Assistant ğŸ¹
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <div class="message-content">
                    Hi! I'm Artemis, your divine period care assistant! ğŸ‘‹ Ask me anything about cycle tracking, products, orders, or rewards!
                </div>
            </div>
        </div>
        <div class="chat-input-area">
            <div class="quick-actions">
                <button class="quick-btn" onclick="quickAction('track')">Track Cycle</button>
                <button class="quick-btn" onclick="quickAction('products')">Products</button>
                <button class="quick-btn" onclick="quickAction('rewards')">Rewards</button>
                <button class="quick-btn" onclick="quickAction('chocolate')">Chocolate</button>
            </div>
            <div class="chat-input-group">
                <input type="text" class="chat-input" id="chatInput" placeholder="Type a message..." onkeypress="handleKeyPress(event)">
                <button class="send-btn" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Notification Popup -->
    <div class="notification" id="notification">
        <h3 style="color: #667eea; margin-bottom: 10px;" id="notifTitle"></h3>
        <p id="notifMessage"></p>
        <button onclick="closeNotification()" style="margin-top: 10px; width: 100%;">Close</button>
    </div>

    <script>
        let points = 0;
        let orderCount = 0;
        let streak = 0;
        let selectedFlavors = [];
        let orders = [];
        let lastVisit = null;
        let timerInterval = null;
        let timerSeconds = 300;
        let timerRunning = false;
        let waterReminderInterval = null;
        let glassesConsumed = 0;
        let glassesGoal = 8;
        let lastCycleData = null;

        const exerciseData = {
            yoga: {
                title: "Period Relief Yoga Flow",
                description: "ğŸ§˜â€â™€ï¸ Child's Pose â†’ Cat-Cow Stretch â†’ Supine Twist. Each pose for 2 minutes. Relieves cramps, back pain, and tension. Keep movements gentle and breath steady.",
                duration: 360,
                steps: [
                    "Child's Pose (2 min): Kneel, sit on heels, fold forward",
                    "Cat-Cow (2 min): On all fours, arch and round spine",
                    "Supine Twist (2 min): Lie on back, twist knees to side"
                ]
            },
            breathing: {
                title: "Box Breathing for Cramp Relief",
                description: "ğŸ˜®â€ğŸ’¨ Inhale 4 sec â†’ Hold 4 sec â†’ Exhale 4 sec â†’ Hold 4 sec. Repeat for 5 minutes. Activates parasympathetic nervous system, reduces pain signals.",
                duration: 300,
                steps: [
                    "Sit comfortably, close your eyes",
                    "Inhale through nose for 4 seconds",
                    "Hold breath for 4 seconds",
                    "Exhale through mouth for 4 seconds",
                    "Hold empty for 4 seconds",
                    "Repeat cycle for full duration"
                ]
            },
            meditation: {
                title: "Healing Visualization Meditation",
                description: "ğŸ§˜ Guided body scan with warm, healing light. Visualize pain melting away. 10 minutes of deep relaxation and pain relief through mindfulness.",
                duration: 600,
                steps: [
                    "Lie down in comfortable position",
                    "Close eyes, take 3 deep breaths",
                    "Visualize warm, golden healing light",
                    "Move light through body, releasing tension",
                    "Focus on areas of pain, breathe into them",
                    "Let pain dissolve with each exhale"
                ]
            },
            stretching: {
                title: "Gentle Pelvic Stretches",
                description: "ğŸ¤¸â€â™€ï¸ Hip circles â†’ Butterfly stretch â†’ Knee hugs. 5 minutes of gentle movements to ease pelvic tension and improve blood flow.",
                duration: 300,
                steps: [
                    "Hip Circles (1 min): Stand, hands on hips, circle slowly",
                    "Butterfly (2 min): Sit, soles together, lean forward",
                    "Knee Hugs (2 min): Lie down, hug knees to chest"
                ]
            },
            walking: {
                title: "Mindful Walking Meditation",
                description: "ğŸš¶â€â™€ï¸ Slow, mindful walking focusing on each step. 8 minutes of gentle movement increases circulation and releases endorphins naturally.",
                duration: 480,
                steps: [
                    "Walk slowly in a quiet space",
                    "Focus on each foot touching the ground",
                    "Match breath to steps",
                    "Notice sensations in your body",
                    "Let thoughts pass without judgment"
                ]
            }
        };

        const compliments = [
            "bestie you're absolutely slaying today! ğŸ’…âœ¨",
            "period or not, you're still that girl! ğŸ‘‘",
            "you ate and left no crumbs today bestie! ğŸ”¥",
            "main character energy is strong with you! ğŸŒŸ",
            "serving looks even on your period queen! ğŸ’•",
            "no cap, you're iconic today! âœ¨",
            "the vibe is immaculate bestie! ğŸ¦‹",
            "you're giving goddess energy rn! ğŸ’«",
            "living rent free in everyone's mind! ğŸŒ¸",
            "periodt! you're crushing it! ğŸ’ª"
        ];

        // Initialize
        window.onload = function() {
            loadData();
            updateStreak();
            showNotification('Welcome to Artemis! ğŸ¹', 'Start tracking your cycle to earn points!');
            
            // Simulate delivery notifications
            setInterval(checkDeliveries, 30000);
            
            // Hourly compliments
            setInterval(showCompliment, 3600000); // Every hour
            setTimeout(showCompliment, 5000); // First one after 5 seconds
            
            // Check for irregular periods
            setTimeout(checkIrregularPeriod, 2000);
        };

        function loadData() {
            const saved = localStorage.getItem('artemisData');
            if (saved) {
                const data = JSON.parse(saved);
                points = data.points || 0;
                orderCount = data.orderCount || 0;
                streak = data.streak || 0;
                orders = data.orders || [];
                lastVisit = data.lastVisit;
                
                updateDisplay();
                renderOrders();
            }
        }

        function saveData() {
            const data = {
                points,
                orderCount,
                streak,
                orders,
                lastVisit: new Date().toISOString()
            };
            localStorage.setItem('artemisData', JSON.stringify(data));
        }

        function updateDisplay() {
            document.getElementById('pointsDisplay').textContent = points;
            document.getElementById('orderCount').textContent = orderCount;
            document.getElementById('streakDisplay').textContent = streak;
            updateTier();
        }

        function updateTier() {
            const tierDisplay = document.getElementById('tierDisplay');
            if (points < 250) {
                tierDisplay.textContent = 'ğŸŒ¸ Bronze Member';
                tierDisplay.className = 'tier-badge bronze';
            } else if (points < 500) {
                tierDisplay.textContent = 'ğŸŒŸ Silver Member';
                tierDisplay.className = 'tier-badge silver';
            } else {
                tierDisplay.textContent = 'ğŸ’ Gold Member';
                tierDisplay.className = 'tier-badge gold';
            }
        }

        function updateStreak() {
            if (lastVisit) {
                const last = new Date(lastVisit);
                const today = new Date();
                const diffDays = Math.floor((today - last) / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) {
                    streak++;
                    if (streak % 7 === 0) {
                        addPoints(50);
                        showNotification('Streak Bonus! ğŸ”¥', `${streak} day streak! You earned 50 bonus points!`);
                    }
                } else if (diffDays > 1) {
                    streak = 1;
                }
            } else {
                streak = 1;
            }
            saveData();
        }

        function trackCycle() {
            const lastPeriod = document.getElementById('lastPeriod').value;
            const cycleLength = parseInt(document.getElementById('cycleLength').value);
            const periodDuration = parseInt(document.getElementById('periodDuration').value);
            const flowIntensity = document.getElementById('flowIntensity').value;

            if (!lastPeriod) {
                alert('Please enter your last period date');
                return;
            }

            const lastDate = new Date(lastPeriod);
            const today = new Date();
            const daysSince = Math.floor((today - lastDate) / (1000 * 60 * 60 * 24));
            const daysUntil = cycleLength - daysSince;

            const nextDate = new Date(today);
            nextDate.setDate(today.getDate() + daysUntil);

            let phase = '';
            let tip = '';
            
            if (daysSince < periodDuration) {
                phase = 'ğŸ©¸ Currently on your period';
                tip = 'Stay hydrated and rest. Try our Luna Relief Chocolate for cramp relief!';
            } else if (daysSince < 14) {
                phase = 'ğŸŒ± Follicular Phase - Energy building';
                tip = 'Great time for new activities! Your energy levels are rising.';
            } else if (daysSince < 16) {
                phase = 'âœ¨ Ovulation Phase - Peak energy';
                tip = 'You\'re at your peak! Perfect time for important tasks.';
            } else {
                phase = 'ğŸŒ™ Luteal Phase - PMS may occur';
                tip = 'Be gentle with yourself. Stock up on comfort items!';
            }

            document.getElementById('currentPhase').textContent = phase;
            document.getElementById('nextPeriod').textContent = `Next period expected: ${nextDate.toLocaleDateString()}`;
            document.getElementById('wellnessTip').textContent = tip;
            document.getElementById('cycleResults').classList.remove('hidden');

            showProducts(flowIntensity);
            addPoints(20);
            showNotification('Cycle Tracked! ğŸ“…', 'You earned 20 Luna Points!');
        }

        function showProducts(flow) {
            let html = '';
            
            if (flow === 'light') {
                html = `
                    <div class="product-card">
                        <h4>ğŸŒ¸ Regular Pads</h4>
                        <p><strong>Brand:</strong> Always Dailies</p>
                        <p>Perfect for light flow days</p>
                        <div class="buy-buttons">
                            <button class="amazon-btn" onclick="buyProduct('Always Dailies', 'amazon')">Buy on Amazon</button>
                            <button class="blinkit-btn" onclick="buyProduct('Always Dailies', 'blinkit')">Order on Blinkit</button>
                        </div>
                    </div>
                `;
            } else if (flow === 'medium') {
                html = `
                    <div class="product-card">
                        <h4>ğŸŒ¸ Super Pads</h4>
                        <p><strong>Brand:</strong> Always Infinity</p>
                        <p>Great absorption for medium flow</p>
                        <div class="buy-buttons">
                            <button class="amazon-btn" onclick="buyProduct('Always Infinity', 'amazon')">Buy on Amazon</button>
                            <button class="blinkit-btn" onclick="buyProduct('Always Infinity', 'blinkit')">Order on Blinkit</button>
                        </div>
                    </div>
                `;
            } else {
                html = `
                    <div class="product-card">
                        <h4>ğŸŒ¸ Overnight Pads</h4>
                        <p><strong>Brand:</strong> Always Ultra Overnight</p>
                        <p>Maximum protection for heavy flow</p>
                        <div class="buy-buttons">
                            <button class="amazon-btn" onclick="buyProduct('Always Ultra', 'amazon')">Buy on Amazon</button>
                            <button class="blinkit-btn" onclick="buyProduct('Always Ultra', 'blinkit')">Order on Blinkit</button>
                        </div>
                    </div>
                `;
            }

            document.getElementById('productRecommendations').innerHTML = html;
        }

        function toggleFlavor(btn, flavor) {
            btn.classList.toggle('selected');
            const index = selectedFlavors.indexOf(flavor);
            if (index > -1) {
                selectedFlavors.splice(index, 1);
            } else {
                selectedFlavors.push(flavor);
            }
        }

        function orderChocolate() {
            const name = document.getElementById('customerName').value;
            const frequency = document.getElementById('deliveryFrequency').value;

            if (!name) {
                alert('Please enter your name for personalization');
                return;
            }

            if (selectedFlavors.length === 0) {
                alert('Please select at least one flavor');
                return;
            }

            const order = {
                id: Date.now(),
                product: `Artemis Relief Chocolate (${selectedFlavors.join(', ')})`,
                name: name,
                frequency: frequency,
                status: 'pending',
                date: new Date().toLocaleDateString(),
                platform: 'Artemis'
            };

            orders.push(order);
            orderCount++;
            addPoints(50);
            renderOrders();
            
            showNotification('Order Placed! ğŸ‰', `Your personalized Artemis Relief box is on its way! You earned 50 points!`);
            
            // Simulate order status updates
            setTimeout(() => {
                order.status = 'shipped';
                renderOrders();
                showNotification('Order Shipped! ğŸ“¦', 'Your order is on the way!');
            }, 5000);
        }

        function buyProduct(product, platform) {
            const order = {
                id: Date.now(),
                product: product,
                status: 'pending',
                date: new Date().toLocaleDateString(),
                platform: platform
            };

            orders.push(order);
            orderCount++;
            addPoints(30);
            renderOrders();

            if (platform === 'amazon') {
                window.open('https://www.amazon.in/s?k=' + encodeURIComponent(product), '_blank');
                showNotification('Redirecting to Amazon...', 'Your order will be placed on Amazon!');
            } else {
                window.open('https://blinkit.com/s/?q=' + encodeURIComponent(product), '_blank');
                showNotification('Fast Delivery! âš¡', 'Your Blinkit order will arrive in 10-15 minutes!');
            }

            setTimeout(() => {
                order.status = 'shipped';
                renderOrders();
            }, 3000);
        }

        function renderOrders() {
            const container = document.getElementById('orderHistory');
            if (orders.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 20px 0;">No orders yet. Start shopping to earn points!</p>';
                return;
            }

            let html = '';
            orders.slice().reverse().forEach(order => {
                const statusClass = `status-${order.status}`;
                html += `
                    <div class="order-item">
                        <div>
                            <strong>${order.product}</strong>
                            <p style="font-size: 0.9em; color: #666;">${order.date} â€¢ ${order.platform}</p>
                        </div>
                        <span class="status ${statusClass}">${order.status.toUpperCase()}</span>
                    </div>
                `;
            });
            container.innerHTML = html;
            saveData();
        }

        function checkDeliveries() {
            orders.forEach(order => {
                if (order.status === 'shipped' && Math.random() > 0.7) {
                    order.status = 'delivered';
                    renderOrders();
                    showNotification('Delivery Complete! ğŸ‰', `Your ${order.product} has been delivered!`);
                }
            });
        }

        function addPoints(pts) {
            points += pts;
            updateDisplay();
            saveData();
        }

        function saveBirthday() {
            const birthday = document.getElementById('birthday').value;
            if (!birthday) {
                alert('Please enter your birthday');
                return;
            }
            addPoints(50);
            showNotification('Birthday Saved! ğŸ‚', 'You earned 50 bonus points!');
        }

        function redeemPoints() {
            if (points < 500) {
                alert(`You need 500 points to redeem. You have ${points} points.`);
                return;
            }
            points -= 500;
            updateDisplay();
            showNotification('Redeemed! ğŸ’°', 'You received a â‚¹100 gift card!');
        }

        function shareReferral() {
            const code = document.getElementById('referralCode').textContent;
            navigator.clipboard.writeText(`Join Artemis with my code ${code} and we both get 100 points! https://artemiscare.com`);
            addPoints(100);
            showNotification('Code Copied! ğŸ‘¥', 'Share with friends to earn 100 points each!');
        }

        function exportOrders() {
            if (orders.length === 0) {
                alert('No orders to export');
                return;
            }

            let csv = 'Product,Date,Status,Platform\n';
            orders.forEach(order => {
                csv += `"${order.product}","${order.date}","${order.status}","${order.platform}"\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'artemis-orders.csv';
            a.click();
            
            showNotification('Exported! ğŸ“„', 'Your order history has been downloaded!');
        }

        function showNotification(title, message) {
            document.getElementById('notifTitle').textContent = title;
            document.getElementById('notifMessage').textContent = message;
            document.getElementById('notification').classList.add('show');

            setTimeout(() => {
                closeNotification();
            }, 5000);
        }

        function closeNotification() {
            document.getElementById('notification').classList.remove('show');
        }

        // Chat Functions
        function toggleChat() {
            document.getElementById('chatWindow').classList.toggle('active');
        }

        function addChatMessage(text, isBot = true) {
            const container = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isBot ? 'bot' : 'user'}`;
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message) return;

            addChatMessage(message, false);
            input.value = '';

            setTimeout(() => {
                const response = getBotResponse(message);
                addChatMessage(response);
            }, 1000);
        }

        function getBotResponse(message) {
            const lower = message.toLowerCase();

            if (lower.includes('track') || lower.includes('cycle')) {
                return "Fill in the cycle tracking form to get personalized predictions! You'll earn 20 Artemis Points! ğŸ“…";
            }

            if (lower.includes('order') || lower.includes('history')) {
                return `You have ${orderCount} orders. Check the Order History card to see all details! ğŸ“¦`;
            }

            if (lower.includes('point') || lower.includes('reward')) {
                return `You have ${points} Artemis Points! Keep shopping to earn more. Check the Rewards Program card for ways to earn! ğŸŒŸ`;
            }

            if (lower.includes('product') || lower.includes('pad')) {
                return "Track your cycle first to get personalized product recommendations based on your flow! ğŸ›ï¸";
            }

            if (lower.includes('cramp') || lower.includes('pain')) {
                return "Try Artemis Relief Chocolate! 70% dark chocolate + iron + magnesium = natural cramp relief! Order now! ğŸ«";
            }

            if (lower.includes('chocolate') || lower.includes('artemis') || lower.includes('luna')) {
                return "Artemis Relief Chocolate has 15mg iron, magnesium, and 70% dark chocolate. Choose from 6 flavors! ğŸ«ğŸ’œ";
            }

            if (lower.includes('delivery') || lower.includes('ship')) {
                return "Amazon delivers in 1-2 days. Blinkit delivers in 10-15 minutes! Fast and convenient! âš¡";
            }

            if (lower.includes('tier') || lower.includes('member')) {
                let tier = points < 250 ? 'Bronze' : points < 500 ? 'Silver' : 'Gold';
                return `You're a ${tier} Member! Bronze: 0-250pts, Silver: 250-500pts, Gold: 500+pts! ğŸ’`;
            }

            return "I'm Artemis, your divine period care assistant! Ask me about cycle tracking, products, rewards, or chocolate! How can I help? ğŸ¹";
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function quickAction(action) {
            const responses = {
                'track': "Fill in the Track Your Cycle form to get predictions and product recommendations. You'll earn 20 points! ğŸ“…",
                'products': "Track your cycle first, then I'll recommend the perfect pads or tampons based on your flow! ğŸ›ï¸",
                'rewards': `You have ${points} points! Earn more by tracking (20pts), shopping (30-50pts), referring friends (100pts), and daily streaks (50pts)! ğŸŒŸ`,
                'chocolate': "Artemis Relief Chocolate: 70% dark chocolate + 15mg iron + magnesium. Choose your flavors and order now! ğŸ«"
            };
            addChatMessage(responses[action]);
        }

        // Exercise Functions
        function updateExerciseInfo() {
            const type = document.getElementById('exerciseType').value;
            const exercise = exerciseData[type];
            
            let stepsHTML = '';
            if (exercise.steps) {
                stepsHTML = `
                    <div style="margin-top: 10px; padding: 10px; background: white; border-radius: 5px; border: 1px solid #FFE5F5;">
                        <strong style="color: #FF1493;">Steps:</strong>
                        <ol style="margin: 5px 0 0 20px; color: #666; font-size: 0.85em;">
                            ${exercise.steps.map(step => `<li>${step}</li>`).join('')}
                        </ol>
                    </div>
                `;
            }
            
            document.getElementById('exerciseInfo').innerHTML = `
                <h4 style="color: #FF1493; margin-bottom: 10px;">${exercise.title}</h4>
                <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">${exercise.description}</p>
                ${stepsHTML}
            `;
            timerSeconds = exercise.duration;
        }

        function showTimer() {
            document.getElementById('timerDisplay').style.display = 'block';
            const type = document.getElementById('exerciseType').value;
            timerSeconds = exerciseData[type].duration;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timerSeconds / 60);
            const seconds = timerSeconds % 60;
            document.getElementById('timerText').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            if (timerRunning) return;
            
            timerRunning = true;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('pauseBtn').style.display = 'inline-block';
            document.getElementById('timerStatus').textContent = 'Breathe... Relax... You got this! ğŸ’•';
            
            const type = document.getElementById('exerciseType').value;
            const music = document.getElementById('musicChoice').value;
            
            // Show breathing guide for breathing exercises
            if (type === 'breathing') {
                document.getElementById('breathingGuide').style.display = 'block';
                animateBreathing();
            }
            
            if (music !== 'silent') {
                showNotification('Music Playing ğŸµ', `${music.charAt(0).toUpperCase() + music.slice(1)} sounds are now playing!`);
            }
            
            timerInterval = setInterval(() => {
                timerSeconds--;
                updateTimerDisplay();
                
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    timerRunning = false;
                    document.getElementById('breathingGuide').style.display = 'none';
                    document.getElementById('timerStatus').textContent = 'Complete! Amazing work! âœ¨';
                    document.getElementById('startBtn').style.display = 'inline-block';
                    document.getElementById('pauseBtn').style.display = 'none';
                    addPoints(30);
                    showNotification('Exercise Complete! ğŸ§˜â€â™€ï¸', 'You earned 30 Artemis Points! Keep up the great work!');
                }
            }, 1000);
        }

        let breathingState = 0;
        function animateBreathing() {
            if (!timerRunning) return;
            
            const guide = document.getElementById('breathingGuide');
            const text = document.getElementById('breathText');
            
            const cycle = [
                { state: 'Inhale', scale: 1.5, duration: 4000 },
                { state: 'Hold', scale: 1.5, duration: 4000 },
                { state: 'Exhale', scale: 1, duration: 4000 },
                { state: 'Hold', scale: 1, duration: 4000 }
            ];
            
            function nextBreath() {
                if (!timerRunning) return;
                
                const current = cycle[breathingState % 4];
                text.textContent = current.state;
                guide.style.transform = `scale(${current.scale})`;
                
                setTimeout(() => {
                    breathingState++;
                    nextBreath();
                }, current.duration);
            }
            
            nextBreath();
        }

        function pauseTimer() {
            if (!timerRunning) return;
            
            clearInterval(timerInterval);
            timerRunning = false;
            document.getElementById('breathingGuide').style.display = 'none';
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('timerStatus').textContent = 'Paused - Take your time!';
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerRunning = false;
            breathingState = 0;
            document.getElementById('breathingGuide').style.display = 'none';
            const type = document.getElementById('exerciseType').value;
            timerSeconds = exerciseData[type].duration;
            updateTimerDisplay();
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('timerStatus').textContent = 'Ready to start again!';
        }

        // Doctor Booking
        function bookDoctor(name, type, price) {
            const order = {
                id: Date.now(),
                product: `${name} - ${type.toUpperCase()} Consultation ${price === 0 ? '(FREE)' : '(â‚¹' + price + ')'}`,
                status: 'confirmed',
                date: new Date().toLocaleDateString(),
                platform: 'Artemis'
            };

            orders.push(order);
            orderCount++;
            addPoints(40);
            renderOrders();

            if (price === 0) {
                showNotification('Free Chat Booked! ğŸ’•', `Your FREE ${type} session with ${name} is confirmed! You earned 40 points!`);
            } else {
                showNotification('Booking Confirmed! ğŸ’•', `Your ${type} session with ${name} is booked for â‚¹${price}! You earned 40 points!`);
            }
        }

        // Hourly Compliments
        function showCompliment() {
            const compliment = compliments[Math.floor(Math.random() * compliments.length)];
            const notif = document.getElementById('complimentNotif');
            document.getElementById('complimentText').textContent = compliment;
            
            notif.style.right = '20px';
            
            setTimeout(() => {
                notif.style.right = '-400px';
            }, 5000);
        }

        // First Period Kit Functions
        function showFirstPeriodKit() {
            document.getElementById('firstPeriodKit').classList.remove('hidden');
            document.getElementById('firstPeriodKit').scrollIntoView({ behavior: 'smooth' });
            showNotification('First Period Kit! ğŸ', 'Check out our specially curated kits for beginners!');
        }

        function orderFirstPeriodKit(type) {
            const kits = {
                basic: { name: 'Basic First Period Kit', price: 399 },
                premium: { name: 'Premium First Period Kit', price: 799 }
            };
            
            const kit = kits[type];
            const order = {
                id: Date.now(),
                product: kit.name,
                status: 'pending',
                date: new Date().toLocaleDateString(),
                platform: 'Artemis'
            };

            orders.push(order);
            orderCount++;
            addPoints(60);
            renderOrders();

            showNotification('Kit Ordered! ğŸ', `Your ${kit.name} is on its way! You earned 60 points!`);
            
            setTimeout(() => {
                order.status = 'shipped';
                renderOrders();
            }, 3000);
        }

        // Emergency Locator Functions
        let userLocation = null;

        function showEmergencyOptions() {
            const choice = confirm('Period Emergency! ğŸš¨\n\nClick OK to find nearest pharmacy\nClick Cancel to find nearest restroom');
            if (choice) {
                findNearby('pharmacy');
            } else {
                findNearby('restroom');
            }
        }

        function findNearby(type) {
            if (navigator.geolocation) {
                showNotification('Finding Locations...', 'Getting your location...');
                
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        displayNearbyLocations(type);
                    },
                    (error) => {
                        showNotification('Location Error', 'Please enable location services!');
                        // Show demo locations
                        displayDemoLocations(type);
                    }
                );
            } else {
                showNotification('Not Supported', 'Geolocation is not supported by your browser');
                displayDemoLocations(type);
            }
        }

        function displayNearbyLocations(type) {
            const icon = type === 'pharmacy' ? 'ğŸ’Š' : 'ğŸš»';
            const title = type === 'pharmacy' ? 'Pharmacies' : 'Public Restrooms';
            
            // Simulated nearby locations
            const locations = [
                { name: `${type === 'pharmacy' ? 'Apollo Pharmacy' : 'Mall Restroom'}`, distance: '0.3 km', time: '4 min walk' },
                { name: `${type === 'pharmacy' ? 'MedPlus' : 'Metro Station'}`, distance: '0.8 km', time: '10 min walk' },
                { name: `${type === 'pharmacy' ? 'Wellness Forever' : 'Shopping Complex'}`, distance: '1.2 km', time: '15 min walk' }
            ];

            let html = `<p style="color: #FF1493; font-weight: bold; margin-bottom: 10px;">${icon} Nearest ${title}</p>`;
            locations.forEach(loc => {
                html += `
                    <div style="background: white; padding: 10px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #FFD4ED;">
                        <strong style="color: #FF1493;">${loc.name}</strong><br>
                        <span style="color: #666; font-size: 0.9em;">ğŸ“ ${loc.distance} â€¢ ğŸš¶ ${loc.time}</span>
                    </div>
                `;
            });

            document.getElementById('locationList').innerHTML = html;
            document.getElementById('locationResults').classList.remove('hidden');
            document.getElementById('locationResults').scrollIntoView({ behavior: 'smooth' });
        }

        function displayDemoLocations(type) {
            displayNearbyLocations(type);
        }

        function openMaps() {
            if (userLocation) {
                window.open(`https://www.google.com/maps/search/pharmacy/@${userLocation.lat},${userLocation.lng},15z`, '_blank');
            } else {
                window.open('https://www.google.com/maps/search/pharmacy', '_blank');
            }
            showNotification('Opening Maps ğŸ—ºï¸', 'Redirecting to Google Maps...');
        }

        // Irregular Period Detection
        function checkIrregularPeriod() {
            const saved = localStorage.getItem('artemisData');
            if (!saved) return;
            
            const data = JSON.parse(saved);
            if (!data.lastCycleData) return;
            
            const lastPeriod = new Date(data.lastCycleData.lastPeriod);
            const today = new Date();
            const daysSince = Math.floor((today - lastPeriod) / (1000 * 60 * 60 * 24));
            const expectedCycle = data.lastCycleData.cycleLength;
            
            // Check if period is more than 7 days late
            if (daysSince > expectedCycle + 7) {
                showIrregularAlert(daysSince, expectedCycle);
            }
        }

        function showIrregularAlert(daysSince, expectedCycle) {
            const daysLate = daysSince - expectedCycle;
            const alertHTML = `
                <div class="alert-box">
                    <h4>âš ï¸ Period Alert</h4>
                    <p style="color: #666;">Your period is ${daysLate} days late. This can be normal, but if you're concerned, consider:</p>
                    <ul style="color: #666; margin: 10px 0 10px 20px;">
                        <li>Track your symptoms for patterns</li>
                        <li>Reduce stress and get enough sleep</li>
                        <li>Talk to a gynecologist (FREE chat available!)</li>
                        <li>Keep emergency supplies ready</li>
                    </ul>
                    <button onclick="bookDoctor('Dr. Priya Sharma', 'chat', 0)" style="width: 100%;">Talk to Doctor (FREE) ğŸ’¬</button>
                </div>
            `;
            
            // Insert alert at top of page
            const container = document.querySelector('.container');
            const alertDiv = document.createElement('div');
            alertDiv.innerHTML = alertHTML;
            container.insertBefore(alertDiv, container.children[1]);
        }

        // Water Reminder Functions
        function setWaterReminder() {
            const frequency = parseInt(document.getElementById('waterFrequency').value);
            glassesGoal = parseInt(document.getElementById('waterGoal').value);
            const startTime = document.getElementById('waterStartTime').value;
            const endTime = document.getElementById('waterEndTime').value;
            
            document.getElementById('glassesGoal').textContent = glassesGoal;
            document.getElementById('waterProgress').classList.remove('hidden');
            
            // Clear existing interval
            if (waterReminderInterval) {
                clearInterval(waterReminderInterval);
            }
            
            // Set new reminder interval
            waterReminderInterval = setInterval(() => {
                const now = new Date();
                const currentTime = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                if (currentTime >= startTime && currentTime <= endTime) {
                    showWaterReminder();
                }
            }, frequency * 60 * 1000);
            
            showNotification('Water Reminders Set! ğŸ’§', `You'll get reminders every ${frequency} minutes!`);
            addPoints(10);
        }

        function showWaterReminder() {
            const messages = [
                'ğŸ’§ Time to hydrate! Drink a glass of water!',
                'ğŸŒŠ Stay hydrated! Your body will thank you!',
                'ğŸ’¦ Water break! Keep that glow going!',
                'ğŸ’§ Hydration checkpoint! Drink up, bestie!',
                'ğŸŒŠ Period tip: Water helps reduce cramps!'
            ];
            
            const message = messages[Math.floor(Math.random() * messages.length)];
            showNotification('Water Reminder ğŸ’§', message);
        }

        function logWater() {
            glassesConsumed++;
            document.getElementById('glassesConsumed').textContent = glassesConsumed;
            
            const percentage = (glassesConsumed / glassesGoal) * 100;
            document.getElementById('waterProgressBar').style.width = percentage + '%';
            
            if (glassesConsumed >= glassesGoal) {
                showNotification('Goal Achieved! ğŸ‰', 'You reached your water goal today! +25 points!');
                addPoints(25);
                glassesConsumed = 0;
                document.getElementById('glassesConsumed').textContent = '0';
                document.getElementById('waterProgressBar').style.width = '0%';
            } else {
                showNotification('Great Job! ğŸ’§', `${glassesGoal - glassesConsumed} more glasses to go!`);
            }
        }

        function toggleWaterReminder() {
            const progress = document.getElementById('waterProgress');
            if (progress.classList.contains('hidden')) {
                document.querySelector('.card:has(#waterProgress)').scrollIntoView({ behavior: 'smooth' });
            } else {
                logWater();
            }
        }
    </script>
</body>
</html>